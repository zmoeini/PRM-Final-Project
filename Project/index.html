<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System</title>
    <link rel="stylesheet" href="style.css">

</head>

<script type="importmap">
    {
        "imports":{
            "three":"https://unpkg.com/three@0.160.0/build/three.module.js"
        }
    }

</script>
<body>
    <div>
        <script type="module">
            import * as THREE from 'three';
            import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            const renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);


            //controls
            const controls = new OrbitControls(camera, renderer.domElement);

            const light = new THREE.PointLight(0xffffff, 50);
            scene.add(light);


            const sun = new THREE.Mesh(
                new THREE.SphereGeometry(1, 32, 32),
                new THREE.MeshBasicMaterial({ color: 0xffff00 })
            );
            scene.add(sun);

            const earth = new THREE.Mesh(
                new THREE.SphereGeometry(0.5, 32, 32),
                new THREE.MeshStandardMaterial({ color: 0x0000ff })
            );
            scene.add(earth);

            const moon = new THREE.Mesh(
                new THREE.SphereGeometry(0.15, 32, 32),
                new THREE.MeshStandardMaterial({ color: 0x888888 })
            );
            scene.add(moon);

            //venus
            const venus = new THREE.Mesh(
                new THREE.SphereGeometry(0.3, 32, 32),
                new THREE.MeshStandardMaterial({ color: 0xffa500 })
            );
            scene.add(venus);

            //mars
            const mars = new THREE.Mesh(
                new THREE.SphereGeometry(0.8, 32, 32),
                new THREE.MeshStandardMaterial({ color: 0xff0000 })
            );
            scene.add(mars);


            const raycaster = new THREE.Raycaster();
            const pointer = new THREE.Vector2();

            addEventListener('click', (event) => {
                pointer.x = (event.clientX / window.innerWidth) * 2 - 1;
                pointer.y = -(event.clientY / window.innerHeight) * 2 + 1;

                raycaster.setFromCamera(pointer, camera);

                const hit = raycaster.intersectObjects([sun, venus, earth, moon, mars])[0];
                if (hit) {

                    hit.object == earth ? 'Earth' : 'Moon';

                }
            });


            function loop() {
                requestAnimationFrame(loop);

                venus.position.x = 2 * Math.cos(Date.now() * 0.0008);
                venus.position.z = 2 * Math.sin(Date.now() * 0.0008);

                earth.position.x = 4 * Math.cos(Date.now() * 0.001);
                earth.position.z = 4 * Math.sin(Date.now() * 0.001);

                mars.position.x = 6 * Math.cos(Date.now() * 0.0006);
                mars.position.z = 6 * Math.sin(Date.now() * 0.0006);

                moon.position.x = earth.position.x + 0.7 * Math.cos(Date.now() * 0.005);
                moon.position.z = earth.position.z + 0.7 * Math.sin(Date.now() * 0.005);


                renderer.render(scene, camera);
            }

            loop();

            addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

        </script>
    </div>
</body>

